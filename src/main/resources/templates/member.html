<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />

    <title>Document</title>
  </head>
  <body>
    <h1>This is the Member page.</h1>

    <table class="table table-hover table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Status</th>
          <th scope="col">Member ID</th>
          <th scope="col">First name</th>
          <th scope="col">Last name</th>
          <th scope="col">Birthdate</th>
          <th scope="col">Gender</th>
          <th scope="col">Address</th>
          <th scope="col">Email</th>
          <th scope="col">Phone</th>
          <th scope="col">Membership Type</th>
          <th scope="col">Date Join</th>
          <th scope="col">Date Cancel</th>
          <th scope="col">Bank Account Ending</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="member, memberInfo : ${members}">
          <th scope="row" th:text="${memberInfo.count}"></th>
          <td
            th:text="${member.active} ? 'ACTIVE' : 'CANCELLED'"
            th:classappend="${member.active} ? 'text-success' : 'text-danger'"
          ></td>
          <td th:text="${member.id}"></td>
          <td th:text="${member.firstName}"></td>
          <td th:text="${member.lastName}"></td>
          <td
            th:text="${#strings.substring(member.dateOfBirth, 5, 7) + '/' + #strings.substring(member.dateOfBirth, 8, 10) + '/' + #strings.substring(member.dateOfBirth, 0, 4)}"
          ></td>
          <td th:text="${member.gender}"></td>
          <td th:text="${member.address}"></td>
          <td th:text="${member.email}"></td>
          <td th:text="${member.phoneNumber}"></td>
          <td
            th:text="${member.membershipType} ? ${member.membershipType.typeName} : ${member.membershipType}"
          ></td>
          <td
            th:text="${#strings.substring(member.dateJoin, 5, 7) + '/' + #strings.substring(member.dateJoin, 8, 10) + '/' + #strings.substring(member.dateJoin, 0, 4)}"
          ></td>
          <td
            th:text="${member.dateExpiration} ? ${#strings.substring(member.dateExpiration, 5, 7) + '/' + #strings.substring(member.dateExpiration, 8, 10) + '/' + #strings.substring(member.dateExpiration, 0, 4)} : ${member.dateExpiration}"
          ></td>
          <td
            th:text="${member.bankAccountNumber} ? ${'x' + #strings.substring(member.bankAccountNumber.accountNumber, #strings.length(member.bankAccountNumber.accountNumber) -4)} : ${member.bankAccountNumber}"
          ></td>
          <td>Update/Delete buttons</td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
